<!DOCTYPE html>
<html>
<head>
    <title>è¯­è¨€ç¯å¢ƒè°ƒè¯•å·¥å…·</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .step { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .result { background: #f0f0f0; padding: 10px; margin: 10px 0; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>è¯­è¨€ç¯å¢ƒè·³è½¬è°ƒè¯•</h1>
    
    <div class="step">
        <h2>æ­¥éª¤ 1: æ£€æŸ¥å½“å‰é¡µé¢</h2>
        <div class="result">
            <p>å½“å‰ URL: <strong id="currentUrl"></strong></p>
            <p>è·¯å¾„å: <strong id="pathname"></strong></p>
            <p>æ£€æµ‹åˆ°çš„è¯­è¨€: <strong id="detectedLocale"></strong></p>
        </div>
    </div>

    <div class="step">
        <h2>æ­¥éª¤ 2: æµ‹è¯•é“¾æ¥</h2>
        <p>è¯·æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œç„¶åæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æµ‹è¯•ï¼š</p>
        <ol>
            <li>è®¿é—®: <a href="http://localhost:3005/zh/create/text-to-3d" target="_blank">http://localhost:3005/zh/create/text-to-3d</a></li>
            <li>ç‚¹å‡»é¡µé¢ä¸Šçš„ Logo</li>
            <li>æŸ¥çœ‹è·³è½¬åˆ°çš„ URL æ˜¯ /zh/ è¿˜æ˜¯ /en/</li>
            <li>åœ¨æ§åˆ¶å°æŸ¥çœ‹ç½‘ç»œè¯·æ±‚</li>
        </ol>
    </div>

    <div class="step">
        <h2>æ­¥éª¤ 3: æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜</h2>
        <button onclick="clearAndReload()">æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°åŠ è½½</button>
        <p>æç¤º: æˆ–æŒ‰ Ctrl+Shift+R (Windows) / Cmd+Shift+R (Mac)</p>
    </div>

    <script>
        // æ˜¾ç¤ºå½“å‰é¡µé¢ä¿¡æ¯
        document.getElementById('currentUrl').textContent = window.location.href;
        document.getElementById('pathname').textContent = window.location.pathname;
        
        const pathname = window.location.pathname;
        const localeMatch = pathname.match(/^\/(en|zh|zh-CN|zh-TW)/);
        const detected = localeMatch ? localeMatch[1] : 'æœªæ£€æµ‹åˆ°';
        document.getElementById('detectedLocale').textContent = detected;

        function clearAndReload() {
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => {
                        caches.delete(name);
                    });
                });
            }
            window.location.reload(true);
        }

        // ç›‘å¬ç‚¹å‡»äº‹ä»¶
        document.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
                console.log('ğŸ”— ç‚¹å‡»é“¾æ¥:', e.target.href);
                console.log('ğŸ“ å½“å‰è¯­è¨€:', detected);
            }
        });
    </script>
</body>
</html>
